import{_ as p,i as v,g as m,c as d,o as c,b as s,u as o,f,t as a,F as h,d as k,j as _,w as x,v as y}from"./index-B4h8jwzg.js";const C=""+new URL("../icons/cart_empty.svg",import.meta.url).href,b=""+new URL("../icons/delete.svg",import.meta.url).href,B={class:"area"},w={class:"myGoods"},I={key:0,class:"empty"},V={key:1,class:"cart"},$={class:"goodList"},g={class:"good"},F=["src"],L={class:"info"},U={class:"price"},D={class:"single"},E={style:{color:"red"}},N={class:"count"},R=["onClick"],T=["onUpdate:modelValue","onInput"],j=["onClick"],G={class:"sum"},M={style:{color:"red"}},O=["onClick"],S={class:"funcs"},X={class:"sum"},q={__name:"Cart",setup(z){function r(i,t=i.count){t=parseInt(t),i.count=t<1?1:t}let u=v(()=>{let i=0;return n.forEach(t=>i+=t.count*t.price),i});const n=m().proxy.cart;return(i,t)=>(c(),d("div",B,[t[7]||(t[7]=s("h2",{style:{margin:"10px"}},"我的购物车",-1)),s("div",w,[o(n).length<=0?(c(),d("div",I,[t[1]||(t[1]=s("img",{class:"icon",src:C,alt:"空"},null,-1)),t[2]||(t[2]=s("div",{class:"text"},"空空如也",-1)),s("div",{class:"link",onClick:t[0]||(t[0]=e=>o(f).emit("changeView","store"))},"去发现更多商品")])):(c(),d("div",V,[s("div",null,"共"+a(o(n).length)+"件商品",1),s("div",$,[(c(!0),d(h,null,k(o(n),e=>(c(),d("div",g,[s("img",{class:"image",src:e.img,alt:""},null,8,F),s("div",L,a(e.name),1),s("div",U,[s("div",D,[t[3]||(t[3]=_("单价:")),s("span",E,"￥"+a(e.price),1)]),s("div",N,[s("div",{class:"sub eff_btn0",onClick:l=>r(e,e.count-1)},"-",8,R),x(s("input",{class:"input",type:"text","onUpdate:modelValue":l=>e.count=l,onInput:l=>r(e)},null,40,T),[[y,e.count,void 0,{number:!0}]]),s("div",{class:"add eff_btn0",onClick:l=>r(e,e.count+1)},"+",8,j)]),s("div",G,[t[4]||(t[4]=_("总价:")),s("span",M,"￥"+a((e.price*e.count).toFixed(2)),1)])]),s("div",{class:"deleteBtn eff_btn0",title:"从购物车移除该商品",onClick:l=>o(n).splice(o(n).indexOf(e),1)},t[5]||(t[5]=[s("img",{src:b,alt:"X"},null,-1)]),8,O)]))),256))]),s("div",S,[s("div",X,"￥"+a(o(u).toFixed(2)),1),t[6]||(t[6]=s("div",{class:"payBtn eff_btn0"},"结算",-1))])]))])]))}},H=p(q,[["__scopeId","data-v-ed7c5818"]]);export{H as default};
